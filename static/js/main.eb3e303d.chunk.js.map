{"version":3,"sources":["action.js","components/Header.js","components/Home.js","constants.js","App.js","reportWebVitals.js","reducer.js","store.js","index.js"],"names":["requestFilms","data","page","dispatch","a","type","FILMS","LOAD","axios","get","json","LOAD_SUCCESS","filmsData","pageNumber","isError","Header","props","useSelector","state","isLoading","useDispatch","useState","searchFlag","setSearchFlag","className","onClick","e","src","alt","name","placeholder","onChange","text","target","value","SEARCHFILMS","payload","searchFilms","Home","timeout","searchText","prevScrollY","useRef","goingUp","setGoingUp","pageCount","setPageCount","pageHeight","setPageHeight","filmArray","setFilmArray","useEffect","length","filteredArray","filter","key","toLowerCase","includes","onScroll","window","scrollY","clearTimeout","setTimeout","currentScrollY","scrollTop","document","getElementById","clientHeight","current","id","map","HomeComponent","React","lazy","App","fallback","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initalState","reducer","action","concat","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render"],"mappings":"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","file":"static/js/main.eb3e303d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport {FILMS, SEARCHFILMS} from \"./constants\";\n\nexport const searchFilms = (text) => {\n  return {\n    type :SEARCHFILMS.LOAD_SUCCESS,\n    payload:text\n  }\n}\n\nexport const requestFilms = (data,page) => async (dispatch) => {\n  dispatch({\n    type: FILMS.LOAD,\n  });\n  try {\n    const json = await axios.get(\"CONTENTLISTINGPAGE-PAGE\"+page+\".json\");\n    dispatch({\n      type: FILMS.LOAD_SUCCESS,\n      filmsData: json.data,\n      pageNumber : page,\n      isError: false,\n    });\n  } catch (e) {\n    dispatch({\n      type: FILMS.LOAD_SUCCESS,\n      filmsData: [],\n      isError: true,\n    });\n  }\n};","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { searchFilms } from \"../action\";\n\nfunction Header(props) {\n\n  const { filmsData, isLoading } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const [searchFlag, setSearchFlag] = useState(false);\n\n  function openSearch (e) {\n    setSearchFlag(true)\n  }\n  function cancelSearch (e) {\n    setSearchFlag(false)\n  }\n  function handleChange (e) {\n    var text = e.target.value\n    dispatch(searchFilms(text));\n  }\n  return (\n      <nav className=\"bg-black fixed w-screen shadow-2xl\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center h-16\">\n            <div onClick={cancelSearch} className=\"flex items-center h-full mb-2\">\n              <div className=\"flex-shrink-0 mt-8\">\n                <img\n                  className=\"h-5 w-5\"\n                  src=\"images/Back.png\"\n                  alt=\"Workflow\"\n                />\n              </div>\n            </div>\n            {!searchFlag &&\n              <div className=\"flex items-left w-full h-full\">\n                <div className=\"flex-shrink-0 mt-8 px-4\">\n                  <p className=\"text-white text-lg font-titillium\">{props.name}</p>\n                </div>\n              </div> \n            }\n            {searchFlag &&\n                <div className=\"flex items-left w-full h-full\">\n                  <div className=\"flex-shrink-0 mt-8 px-4\">\n                  <input  type=\"text\" className=\"bg-black text-white w-auto  h-8 mt-auto px-2 pb-1.5 text-primary outline-none text-base font-light rounded-md\" placeholder=\"Search...\" name=\"filterText\" onChange={handleChange}/>\n                  </div>\n              </div>\n            }\n\n            <div onClick={openSearch} className=\"flex items-center h-full\">\n              {!searchFlag &&\n                  <div className=\"mr-2 flex md:hidden mt-8\">\n                      <img\n                      className=\"h-5 w-5\"\n                      src=\"images/search.png\"\n                      alt=\"Workflow\"\n                      />\n                  </div>\n              }\n            </div>\n          </div>\n        </div>\n      </nav>\n  );\n}\nexport default Header;","import React, { useEffect, useState, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { requestFilms } from \"../action\";\nimport data from \"../data.json\";\nimport Header from \"./Header\"\nimport './Home.css';\n\nconst Home = () => {\n  const { filmsData, searchText, isLoading } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  var timeout;\n\n  const prevScrollY = useRef(0);\n  const [goingUp, setGoingUp] = useState(false);\n  const [pageCount, setPageCount] = useState(1);\n  const [pageHeight, setPageHeight] = useState(0);\n  const [filmArray, setFilmArray] = useState([]);\n  const list = useRef();\n\n\n  useEffect(() => {\n    if(pageCount===1 &&!searchText&&filmsData.length===0) dispatch(requestFilms(data,pageCount));\n    if(searchText){\n      const filteredArray = filmsData.filter((value,key)=>{\n        return value.name.toLowerCase().includes(searchText.toLowerCase())\n      })\n      setFilmArray(filteredArray);      \n    }else{\n      setFilmArray(filmsData);    \n    }    \n  }, [searchText,filmsData]);\n \n  function onScroll (e) {\n    const scrollY = window.scrollY \n    clearTimeout(timeout);  \n    timeout = setTimeout(function() {\n        const currentScrollY = e.target.scrollTop;\n        setPageHeight(document.getElementById('all-container').clientHeight)\n        if (prevScrollY.current < currentScrollY && goingUp) {\n          setGoingUp(false);\n        }\n        if (prevScrollY.current > currentScrollY && !goingUp) {\n          setGoingUp(true);\n        }\n        prevScrollY.current = currentScrollY;\n        if(!goingUp && currentScrollY>(pageHeight/2) && pageCount<4){\n          setPageCount(pageCount+1);  \n          if(pageCount > 1 && pageCount < 4){\n            dispatch(requestFilms(data,pageCount));\n          }      \n        }\n    }, 50);\n  }\n\n  return (\n    <div onScroll={onScroll} id=\"all-container\"  className=\"overflow-scroll flex flex-col h-screen\">\n        <Header name=\"Romantic Comedy\"/>\n      <div key=\"0\"   className=\"w-full mt-20 mb-20 h-screen container px-2 py-2 grid grid-cols-3 gap-2 mx-auto\">\n\n        {isLoading && <div className=\"loading\">Data loading...</div>}\n        {filmArray.length!== 0 && filmArray.map((data,key) => {\n\n          return (                      \n              <div  key={key}  className=\"w-full rounded px-0.5 py-1\">\n                  <img src={\"images/\"+data['poster-image']} alt=\"image\"/>\n                  <p className=\"text-white font-titillium text-sm text-opacity-60 py-1 px-1\">{data.name}</p>\n              </div>   \n          );\n        })}\n        </div>\n      </div>\n  );\n}\n\nexport default Home;\n","export const FILMS = { LOAD: \"REQUEST_FILMS_DATA\",LOAD_SUCCESS: \"RECEIVE_FILMS_DATA\",};\nexport const SEARCHFILMS = { LOAD: \"REQUEST_SEARCHFILMS_DATA\",LOAD_SUCCESS: \"RECEIVE_SEARCHFILMS_DATA\",};","import './App.css';\nimport Home from './components/Home'\nimport React, {Suspense, lazy } from \"react\";\nconst HomeComponent = React.lazy(() => import('./components/Home.js'));\n//const Admin = React.lazy(() => import(\"./Admin.js\"));\n\nfunction App() {\n  return (\n<Suspense fallback={<div>Loading</div>}>\n<HomeComponent />\n</Suspense>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {FILMS, SEARCHFILMS} from \"./constants\";\n\nconst initalState = {\n    filmsData: [],\n    searchText:'',\n    isLoading: false,\n    isError: false,\n};\n\nconst reducer = (state = initalState, action) => {\n  switch (action.type) {\n    case FILMS.LOAD:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case FILMS.LOAD_SUCCESS:\n      let data=[]\n      if(action.pageNumber == 1  ){\n        data = action.filmsData[0].page['content-items']['content']\n      }else if(action.pageNumber>1){\n        data = action.filmsData['page']['content-items']['content']\n      }\n      return {\n        ...state,\n        filmsData: state.filmsData.concat(data),\n        isLoading: false,\n      };\n    case SEARCHFILMS.LOAD_SUCCESS:\n      return{\n        ...state,\n        searchText: action.payload,\n        isLoading: false,\n      }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import thunkMiddleware from \"redux-thunk\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport reducer from \"./reducer\";\n\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Home from './components/Home';\nimport App from \"./App\";\nimport reportWebVitals from './reportWebVitals';\nimport { store } from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}